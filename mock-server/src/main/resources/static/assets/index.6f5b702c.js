import{d as w,a as z,b as o,h as x,o as f,c as h,w as t,e,u as l,f as L,i as S,g as c}from"./index.b8f26e42.js";import{a as V,u as q}from"./index.5d1713db.js";const H=m=>V.post("/mock/attachment",m,{headers:{"Content-Type":"multipart/form-data"}}),U=c("\u67E5\u8BE2"),$=c("\u4E0A\u4F20\u6587\u4EF6"),K=c("\u5220\u9664"),N=c("\u5220\u9664"),I=w({__name:"index",setup(m){const n=z({dataListUrl:"/mock/attachment/page",deleteUrl:"/mock/attachment",queryForm:{name:""}}),C=(g,a)=>{const s=new FormData;s.append("file",g.raw),H(s).then(u=>{u.data.code===0&&p()})},{getDataList:p,selectionChangeHandle:D,sizeChangeHandle:y,currentChangeHandle:B,deleteBatchHandle:_}=q(n);return(g,a)=>{const s=o("el-input"),u=o("el-form-item"),d=o("el-button"),F=o("el-upload"),b=o("el-form"),r=o("el-table-column"),v=o("el-table"),A=o("el-pagination"),E=o("el-card"),k=x("loading");return f(),h(E,null,{default:t(()=>[e(b,{inline:!0,model:n.queryForm,onKeyup:a[3]||(a[3]=L(i=>l(p)(),["enter"]))},{default:t(()=>[e(u,null,{default:t(()=>[e(s,{modelValue:n.queryForm.name,"onUpdate:modelValue":a[0]||(a[0]=i=>n.queryForm.name=i),placeholder:"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(u,null,{default:t(()=>[e(d,{onClick:a[1]||(a[1]=i=>l(p)())},{default:t(()=>[U]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(F,{class:"upload-demo",ref:"upload",action:"/mock/attachment","auto-upload":!1,"on-change":C,"show-file-list":!1},{default:t(()=>[e(d,{type:"primary"},{default:t(()=>[$]),_:1})]),_:1},512)]),_:1}),e(u,null,{default:t(()=>[e(d,{type:"danger",onClick:a[2]||(a[2]=i=>l(_)())},{default:t(()=>[K]),_:1})]),_:1})]),_:1},8,["model"]),S((f(),h(v,{data:n.dataList,border:"",style:{width:"100%"},onSelectionChange:l(D)},{default:t(()=>[e(r,{type:"selection","header-align":"center",align:"center",width:"50"}),e(r,{prop:"id",label:"id","header-align":"center",align:"center"}),e(r,{prop:"name",label:"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u540D\u79F0","header-align":"center",align:"center"}),e(r,{prop:"url",label:"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u30A2\u30C9\u30EC\u30B9","header-align":"center",align:"center"}),e(r,{prop:"size",label:"\u6DFB\u4ED8\u30D5\u30A1\u30A4\u30EB\u30B5\u30A4\u30BA","header-align":"center",align:"center"}),e(r,{label:"\u64CD\u4F5C",fixed:"right","header-align":"center",align:"center",width:"150"},{default:t(i=>[e(d,{type:"primary",link:"",onClick:T=>l(_)(i.row.id)},{default:t(()=>[N]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","onSelectionChange"])),[[k,n.dataListLoading]]),e(A,{"current-page":n.page,"page-sizes":n.pageSizes,"page-size":n.limit,total:n.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l(y),onCurrentChange:l(B)},null,8,["current-page","page-sizes","page-size","total","onSizeChange","onCurrentChange"])]),_:1})}}});export{I as default};
